/**
 * Bundle of AWEMA @awema-pl/module-modal-window
 * Generated: 2020-11-25 23:26:41
 * Version: 1.1.3
 */

var ModalWindow=function(t,e){"use strict";function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}e=e&&e.hasOwnProperty("default")?e.default:e;var r=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},a=function(t){try{return!!t()}catch(t){return!0}},l=!a(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});var c,u=(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}(c={exports:{}},c.exports),c.exports).document,d=r(u)&&r(u.createElement),f=!l&&!a(function(){return 7!=Object.defineProperty((t="div",d?u.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),h=Object.defineProperty,p={f:l?Object.defineProperty:function(t,e,n){if(s(t),e=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}(e,!0),s(n),f)try{return h(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}}.f,m=Function.prototype,v=/^\s*function ([^ (]*)/;function y(t,e,n){if(null==(o=t)||"object"!=typeof o)return console.warn("get supports only objects, ",t," given"),n;var o;e=function(t){return t.split(/(?:\]?\.|\[['"]?|['"]?\])/g).filter(t=>""!==t)}(e);let i,r=t;for(;e.length&&r;){let t=e.shift();e.length?r=r[t]:i=r[t]}return void 0!==i?i:n}"name"in m||l&&p(m,"name",{configurable:!0,get:function(){try{return(""+this).match(v)[1]}catch(t){return""}}});var _={props:{lang:Object},computed:{$lang:function(){return{...y(this.$options,"_config.lang",{}),...this.lang}}}},g=0;var b=function(t,e,n,o,i,r,s,a,l,c){"boolean"!=typeof s&&(l=a,a=s,s=!1);var u,d="function"==typeof n?n.options:n;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),o&&(d._scopeId=o),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=u):e&&(u=s?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(d.functional){var f=d.render;d.render=function(t,e){return u.call(e),f(t,e)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,u):[u]}return n}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal-transition-"+t.theme},on:{"before-enter":function(e){t.showContent=!0,t._addBodyClass("has-modal-"+t.theme)},"after-leave":function(e){t._removeBodyClass("has-modal-"+t.theme),t.showContent=!1}}},[n("aside",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],staticClass:"modal",class:"is-"+t.theme,attrs:{tabindex:t.isOpened?"0":"-1",role:"dialog","aria-hidden":t.isOpened?"false":"true","aria-label":t.title},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.selfClose(e)}}},[n("div",{staticClass:"modal__dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal__header"},[n("button",{staticClass:"modal__back",attrs:{type:"button",title:t.$lang.MODAL_BACK,"aria-label":t.$lang.MODAL_BACK,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.$router.back()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("polyline",{attrs:{points:"10 14 5 9.5 10 5"}}),t._v(" "),n("line",{attrs:{x1:"16",y1:"9.5",x2:"5",y2:"9.52"}})])]),t._v(" "),n("h5",{staticClass:"modal__title"},[t._v("\n                    "+t._s(t.title)+"\n                ")]),t._v(" "),n("button",{staticClass:"modal__close",attrs:{type:"button",title:t.$lang.MODAL_CLOSE,"aria-label":t.$lang.MODAL_CLOSE,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.close()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{"stroke-width":"1.06",d:"M16,16 L4,4"}}),t._v(" "),n("path",{attrs:{"stroke-width":"1.06",d:"M16,4 L4,16"}})])])]),t._v(" "),n("div",{staticClass:"modal__body"},[t.stay||t.showContent?n("div",{staticClass:"modal__content"},[t._t("default",null,{closeModal:t.close})],2):t._e()])])])])},staticRenderFns:[]},void 0,{name:"modal-window",mixins:[_],props:{title:String,stay:{type:Boolean,default:function(){return this.$options._config.stay}},bgClickClose:{type:Boolean,default:function(){return this.$options._config.bgClickClose}},name:{type:String,default:function(){return"modal-".concat(g++)}},param:{type:String,default:"modal"},theme:{type:String,default:"default"}},data:function(){return{showContent:!1,lastFocused:null}},computed:{eventBus:function(){return this.$options._config.eventBus},isOpened:function(){return this.$route.query[this.param]===this.name}},provide:function(){return{modal:{name:this.name,open:this.open,close:this.close}}},watch:{isOpened:function(t){if(!t){var e={prevented:!1,preventClose:function(){this.prevented=!0}};this.eventBus.$emit("modal::".concat(this.name,":before-close"),e),e.prevented&&this.open()}},showContent:function(t){var e=this;if(t){if("undefined"==typeof document)return;this.lastFocused=document.activeElement,this.$nextTick(function(){return e.$el.focus()}),window.addEventListener("keyup",this._escButtonHandler)}else window.removeEventListener("keyup",this._escButtonHandler),this.lastFocused&&(this.lastFocused.focus(),this.lastFocused=null)}},methods:{_addBodyClass:function(){var t;(t=document.body.classList).add.apply(t,arguments)},_removeBodyClass:function(){var t;(t=document.body.classList).remove.apply(t,arguments)},open:function(){this.$router.$setParam(this._getModalParam(this.name))},selfClose:function(t){if(!this.fullscreen&&this.bgClickClose){var e=this;window.addEventListener("mouseup",function t(n){window.removeEventListener("mouseup",t),n.target===e.$el&&e.close()})}},close:function(){this.$router.$setParam(this._getModalParam(null)),this.eventBus.$emit("modal::".concat(this.name,":closed")),this.$emit("closed")},_getModalParam:function(t){var e={};return e[this.param]=t,e},_escButtonHandler:function(t){27===t.keyCode&&this.close()}},created:function(){this.showContent=this.isOpened},mounted:function(){this.eventBus.$on("modal::".concat(this.name,":open"),this.open),this.eventBus.$on("modal::".concat(this.name,":close"),this.close)},beforeDestroy:function(){this.eventBus.$off("modal::".concat(this.name,":open"),this.open),this.eventBus.$off("modal::".concat(this.name,":close"),this.close),this.lastFocused=null,window.removeEventListener("keyup",this._escButtonHandler)}},void 0,!1,void 0,void 0,void 0),w={stay:!1,bgClickClose:!0,lang:{MODAL_BACK:"Go back",MODAL_CLOSE:"Close modal (ESC)"}};function C(t,n){if(!this.installed){this.installed=!0,b.mixins=b.mixins||[],b.mixins.push(e);var o=i(i({},w),n);if(!o.eventBus){var r=new t({methods:{open:function(t){t&&this.$emit("modal::".concat(t,":open"))},close:function(t){t&&this.$emit("modal::".concat(t,":close"))}}});o.eventBus=r,t.prototype.$modals=r}b._config=o,t.component("modal-window",b)}}var O={install:C},$=null,B=null;return"undefined"!=typeof window?($=window.Vue,B=window.VueRouter):"undefined"!=typeof global&&($=global.Vue,B=global.VueRouter),$&&B&&$.use(O),b.install=C,t.install=C,t.default=b,t}({},routerUtils);