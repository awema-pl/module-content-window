/**
 * Bundle of AWEMA @awema-pl/module-modal-window
 * Generated: 2019-07-22 14:05:35
 * Version: 1.1.3
 */

var ModalWindow=function(t){"use strict";function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n=function(t){return"object"==typeof t?null!==t:"function"==typeof t},o=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t},i=function(t){try{return!!t()}catch(t){return!0}},r=!i(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});var s,a=(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}(s={exports:{}},s.exports),s.exports).document,l=n(a)&&n(a.createElement),u=!r&&!i(function(){return 7!=Object.defineProperty((t="div",l?a.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),c=Object.defineProperty,d={f:r?Object.defineProperty:function(t,e,i){if(o(t),e=function(t,e){if(!n(t))return t;var o,i;if(e&&"function"==typeof(o=t.toString)&&!n(i=o.call(t)))return i;if("function"==typeof(o=t.valueOf)&&!n(i=o.call(t)))return i;if(!e&&"function"==typeof(o=t.toString)&&!n(i=o.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),o(i),u)try{return c(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}}.f,f=Function.prototype,h=/^\s*function ([^ (]*)/;function p(t){return null!=t&&"object"==typeof t}function m(t,e,n){if(!p(t))return console.warn("get supports only objects, ",t," given"),n;e=function(t){return t.split(/(?:\]?\.|\[['"]?|['"]?\])/g).filter(t=>""!==t)}(e);let o,i=t;for(;e.length&&i;){let t=e.shift();e.length?i=i[t]:o=i[t]}return void 0!==o?o:n}"name"in f||r&&d(f,"name",{configurable:!0,get:function(){try{return(""+this).match(h)[1]}catch(t){return""}}});var v={props:{lang:Object},computed:{$lang:function(){return{...this.lang,...m(this.$options,"_config.lang",{})}}}},y=0;var _=function(t,e,n,o,i,r,s,a,l,u){"boolean"!=typeof s&&(l=a,a=s,s=!1);var c,d="function"==typeof n?n.options:n;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),o&&(d._scopeId=o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=c):e&&(c=s?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),c)if(d.functional){var f=d.render;d.render=function(t,e){return c.call(e),f(t,e)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,c):[c]}return n}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal-transition-"+t.theme},on:{"before-enter":function(e){t.showContent=!0,t._addBodyClass("has-modal-"+t.theme)},"after-leave":function(e){t._removeBodyClass("has-modal-"+t.theme),t.showContent=!1}}},[n("aside",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],staticClass:"modal",class:"is-"+t.theme,attrs:{tabindex:t.isOpened?"0":"-1",role:"dialog","aria-hidden":t.isOpened?"false":"true","aria-label":t.title},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.selfClose(e)}}},[n("div",{staticClass:"modal__dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal__header"},[n("button",{staticClass:"modal__back",attrs:{type:"button",title:t.$lang.MODAL_BACK,"aria-label":t.$lang.MODAL_BACK,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.$router.back()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("polyline",{attrs:{points:"10 14 5 9.5 10 5"}}),t._v(" "),n("line",{attrs:{x1:"16",y1:"9.5",x2:"5",y2:"9.52"}})])]),t._v(" "),n("h5",{staticClass:"modal__title"},[t._v("\n                    "+t._s(t.title)+"\n                ")]),t._v(" "),n("button",{staticClass:"modal__close",attrs:{type:"button",title:t.$lang.MODAL_CLOSE,"aria-label":t.$lang.MODAL_CLOSE,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.close()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{"stroke-width":"1.06",d:"M16,16 L4,4"}}),t._v(" "),n("path",{attrs:{"stroke-width":"1.06",d:"M16,4 L4,16"}})])])]),t._v(" "),n("div",{staticClass:"modal__body"},[t.stay||t.showContent?n("div",{staticClass:"modal__content"},[t._t("default",null,{closeModal:t.close})],2):t._e()])])])])},staticRenderFns:[]},void 0,{name:"modal-window",mixins:[v],props:{title:String,stay:{type:Boolean,default:function(){return this.$options._config.stay}},bgClickClose:{type:Boolean,default:function(){return this.$options._config.bgClickClose}},name:{type:String,default:function(){return"modal-".concat(y++)}},param:{type:String,default:"modal"},theme:{type:String,default:"default"}},data:function(){return{showContent:!1,lastFocused:null}},computed:{eventBus:function(){return this.$options._config.eventBus},isOpened:function(){return this.$route.query[this.param]===this.name}},provide:function(){return{modal:{name:this.name,open:this.open,close:this.close}}},watch:{isOpened:function(t){if(!t){var e={prevented:!1,preventClose:function(){this.prevented=!0}};this.eventBus.$emit("modal::".concat(this.name,":before-close"),e),e.prevented&&this.open()}},showContent:function(t){var e=this;if(t){if("undefined"==typeof document)return;this.lastFocused=document.activeElement,this.$nextTick(function(){return e.$el.focus()}),window.addEventListener("keyup",this._escButtonHandler)}else window.removeEventListener("keyup",this._escButtonHandler),this.lastFocused&&(this.lastFocused.focus(),this.lastFocused=null)}},methods:{_addBodyClass:function(){var t;(t=document.body.classList).add.apply(t,arguments)},_removeBodyClass:function(){var t;(t=document.body.classList).remove.apply(t,arguments)},open:function(){this.$router.$setParam(this._getModalParam(this.name))},selfClose:function(t){if(!this.fullscreen&&this.bgClickClose){var e=this;window.addEventListener("mouseup",function t(n){window.removeEventListener("mouseup",t),n.target===e.$el&&e.close()})}},close:function(){this.$router.$setParam(this._getModalParam(null)),this.eventBus.$emit("modal::".concat(this.name,":closed")),this.$emit("closed")},_getModalParam:function(t){var e={};return e[this.param]=t,e},_escButtonHandler:function(t){27===t.keyCode&&this.close()}},created:function(){this.showContent=this.isOpened},mounted:function(){this.eventBus.$on("modal::".concat(this.name,":open"),this.open),this.eventBus.$on("modal::".concat(this.name,":close"),this.close)},beforeDestroy:function(){this.eventBus.$off("modal::".concat(this.name,":open"),this.open),this.eventBus.$off("modal::".concat(this.name,":close"),this.close),this.lastFocused=null,window.removeEventListener("keyup",this._escButtonHandler)}},void 0,!1,void 0,void 0,void 0),g={stay:!1,bgClickClose:!0,lang:{MODAL_BACK:"Go back",MODAL_CLOSE:"Close modal (ESC)"}};function b(t,e=!0){if(!(n=t)||("function"!=typeof n&&n.hasOwnProperty("length")&&"number"==typeof n.length?!n.length:"object"==typeof n&&!Object.keys(n).length))return;var n;let o=Object.assign({},this.currentRoute),i=Object.assign({},this.currentRoute.query);return Object.assign(i,t),i=function t(e,n){if(!p(e))return;let o=Object.keys(e);for(let i=0;i<o.length;i++){let r=o[i],s=e[r];p(s)?t(s,n):n.call(null,e[r],r,e)}return e}(i,function(t,e,n){void 0!==t&&""!==t&&null!==t||delete n[e]}),o.query=i,this[e?"push":"replace"](o),this}const w={beforeCreate(){this.$router.$setParam=b}};function C(t,n){if(!this.installed){this.installed=!0,_.mixins=_.mixins||[],_.mixins.push(w);var o=function(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},i=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),i.forEach(function(n){e(t,n,o[n])})}return t}({},g,n);if(!o.eventBus){var i=new t({methods:{open:function(t){t&&this.$emit("modal::".concat(t,":open"))},close:function(t){t&&this.$emit("modal::".concat(t,":close"))}}});o.eventBus=i,t.prototype.$modals=i}_._config=o,t.component("modal-window",_)}}var O={install:C},$=null,B=null;return"undefined"!=typeof window?($=window.Vue,B=window.VueRouter):"undefined"!=typeof global&&($=global.Vue,B=global.VueRouter),$&&B&&$.use(O),_.install=C,t.install=C,t.default=_,t}({});