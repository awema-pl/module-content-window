/**
 * Bundle of AWEMA @awema-pl/module-modal-window transpiled and polyfilled
 * Generated: 2019-07-22 14:05:29
 * Version: 1.1.3
 */

!function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),o=e(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),r=(o.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},s=function(t){try{return!!t()}catch(t){return!0}},a=!s(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=n.document,u=r(c)&&r(c.createElement),l=!a&&!s(function(){return 7!=Object.defineProperty((t="div",u?c.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),f=Object.defineProperty,d={f:a?Object.defineProperty:function(t,e,n){if(i(t),e=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}(e,!0),i(n),l)try{return f(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},p=a?function(t,e,n){return d.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},h={}.hasOwnProperty,m=function(t,e){return h.call(t,e)},v=0,_=Math.random(),y=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++v+_).toString(36))},g=e(function(t){var e=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:o.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),b=g("native-function-to-string",Function.toString),w=e(function(t){var e=y("src"),r=(""+b).split("toString");o.inspectSource=function(t){return b.call(t)},(t.exports=function(t,o,i,s){var a="function"==typeof i;a&&(m(i,"name")||p(i,"name",o)),t[o]!==i&&(a&&(m(i,e)||p(i,e,t[o]?""+t[o]:r.join(String(o)))),t===n?t[o]=i:s?t[o]?t[o]=i:p(t,o,i):(delete t[o],p(t,o,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||b.call(this)})}),C=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}},O=function(t,e,r){var i,s,a,c,u=t&O.F,l=t&O.G,f=t&O.S,d=t&O.P,h=t&O.B,m=l?n:f?n[e]||(n[e]={}):(n[e]||{}).prototype,v=l?o:o[e]||(o[e]={}),_=v.prototype||(v.prototype={});for(i in l&&(r=e),r)a=((s=!u&&m&&void 0!==m[i])?m:r)[i],c=h&&s?C(a,n):d&&"function"==typeof a?C(Function.call,a):a,m&&w(m,i,a,t&O.U),v[i]!=a&&p(v,i,c),d&&_[i]!=a&&(_[i]=a)};n.core=o,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128;var S,E,$=O,j={}.toString,k=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return j.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},B=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},M=function(t){return k(B(t))},P=Math.ceil,x=Math.floor,L=function(t){return isNaN(t=+t)?0:(t>0?x:P)(t)},F=Math.min,A=Math.max,T=Math.min,D=g("keys"),R=(S=!1,function(t,e,n){var o,r,i=M(t),s=(o=i.length)>0?F(L(o),9007199254740991):0,a=function(t,e){return(t=L(t))<0?A(t+e,0):T(t,e)}(n,s);if(S&&e!=e){for(;s>a;)if((r=i[a++])!=r)return!0}else for(;s>a;a++)if((S||a in i)&&i[a]===e)return S||a||0;return!S&&-1}),W=D[E="IE_PROTO"]||(D[E]=y(E)),N="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),I=Object.keys||function(t){return function(t,e){var n,o=M(t),r=0,i=[];for(n in o)n!=W&&m(o,n)&&i.push(n);for(;e.length>r;)m(o,n=e[r++])&&(~R(i,n)||i.push(n));return i}(t,N)},G={f:Object.getOwnPropertySymbols},H={f:{}.propertyIsEnumerable},U=Object.assign,K=!U||s(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=U({},t)[n]||Object.keys(U({},e)).join("")!=o})?function(t,e){for(var n=Object(B(t)),o=arguments.length,r=1,i=G.f,s=H.f;o>r;)for(var c,u=k(arguments[r++]),l=i?I(u).concat(i(u)):I(u),f=l.length,d=0;f>d;)c=l[d++],a&&!s.call(u,c)||(n[c]=u[c]);return n}:U;$($.S+$.F,"Object",{assign:K});var V=d.f,q=Function.prototype,z=/^\s*function ([^ (]*)/;function X(t,e,n){if(null==(o=t)||"object"!=typeof o)return console.warn("get supports only objects, ",t," given"),n;var o;e=function(t){return t.split(/(?:\]?\.|\[['"]?|['"]?\])/g).filter(t=>""!==t)}(e);let r,i=t;for(;e.length&&i;){let t=e.shift();e.length?i=i[t]:r=i[t]}return void 0!==r?r:n}"name"in q||a&&V(q,"name",{configurable:!0,get:function(){try{return(""+this).match(z)[1]}catch(t){return""}}});var J={props:{lang:Object},computed:{$lang:function(){return{...this.lang,...X(this.$options,"_config.lang",{})}}}},Q=0;var Y=function(t,e,n,o,r,i,s,a,c,u){"boolean"!=typeof s&&(c=a,a=s,s=!1);var l,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,r&&(f.functional=!0)),o&&(f._scopeId=o),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=l):e&&(l=s?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),l)if(f.functional){var d=f.render;f.render=function(t,e){return l.call(e),d(t,e)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,l):[l]}return n}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal-transition-"+t.theme},on:{"before-enter":function(e){t.showContent=!0,t._addBodyClass("has-modal-"+t.theme)},"after-leave":function(e){t._removeBodyClass("has-modal-"+t.theme),t.showContent=!1}}},[n("aside",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],staticClass:"modal",class:"is-"+t.theme,attrs:{tabindex:t.isOpened?"0":"-1",role:"dialog","aria-hidden":t.isOpened?"false":"true","aria-label":t.title},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.selfClose(e)}}},[n("div",{staticClass:"modal__dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal__header"},[n("button",{staticClass:"modal__back",attrs:{type:"button",title:t.$lang.MODAL_BACK,"aria-label":t.$lang.MODAL_BACK,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.$router.back()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("polyline",{attrs:{points:"10 14 5 9.5 10 5"}}),t._v(" "),n("line",{attrs:{x1:"16",y1:"9.5",x2:"5",y2:"9.52"}})])]),t._v(" "),n("h5",{staticClass:"modal__title"},[t._v("\n                    "+t._s(t.title)+"\n                ")]),t._v(" "),n("button",{staticClass:"modal__close",attrs:{type:"button",title:t.$lang.MODAL_CLOSE,"aria-label":t.$lang.MODAL_CLOSE,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.close()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{"stroke-width":"1.06",d:"M16,16 L4,4"}}),t._v(" "),n("path",{attrs:{"stroke-width":"1.06",d:"M16,4 L4,16"}})])])]),t._v(" "),n("div",{staticClass:"modal__body"},[t.stay||t.showContent?n("div",{staticClass:"modal__content"},[t._t("default",null,{closeModal:t.close})],2):t._e()])])])])},staticRenderFns:[]},void 0,{name:"modal-window",mixins:[J],props:{title:String,stay:{type:Boolean,default:function(){return this.$options._config.stay}},bgClickClose:{type:Boolean,default:function(){return this.$options._config.bgClickClose}},name:{type:String,default:function(){return"modal-".concat(Q++)}},param:{type:String,default:"modal"},theme:{type:String,default:"default"}},data:function(){return{showContent:!1,lastFocused:null}},computed:{eventBus:function(){return this.$options._config.eventBus},isOpened:function(){return this.$route.query[this.param]===this.name}},provide:function(){return{modal:{name:this.name,open:this.open,close:this.close}}},watch:{isOpened:function(t){if(!t){var e={prevented:!1,preventClose:function(){this.prevented=!0}};this.eventBus.$emit("modal::".concat(this.name,":before-close"),e),e.prevented&&this.open()}},showContent:function(t){var e=this;if(t){if("undefined"==typeof document)return;this.lastFocused=document.activeElement,this.$nextTick(function(){return e.$el.focus()}),window.addEventListener("keyup",this._escButtonHandler)}else window.removeEventListener("keyup",this._escButtonHandler),this.lastFocused&&(this.lastFocused.focus(),this.lastFocused=null)}},methods:{_addBodyClass:function(){var t;(t=document.body.classList).add.apply(t,arguments)},_removeBodyClass:function(){var t;(t=document.body.classList).remove.apply(t,arguments)},open:function(){this.$router.$setParam(this._getModalParam(this.name))},selfClose:function(t){if(!this.fullscreen&&this.bgClickClose){var e=this;window.addEventListener("mouseup",function t(n){window.removeEventListener("mouseup",t),n.target===e.$el&&e.close()})}},close:function(){this.$router.$setParam(this._getModalParam(null)),this.eventBus.$emit("modal::".concat(this.name,":closed")),this.$emit("closed")},_getModalParam:function(t){var e={};return e[this.param]=t,e},_escButtonHandler:function(t){27===t.keyCode&&this.close()}},created:function(){this.showContent=this.isOpened},mounted:function(){this.eventBus.$on("modal::".concat(this.name,":open"),this.open),this.eventBus.$on("modal::".concat(this.name,":close"),this.close)},beforeDestroy:function(){this.eventBus.$off("modal::".concat(this.name,":open"),this.open),this.eventBus.$off("modal::".concat(this.name,":close"),this.close),this.lastFocused=null,window.removeEventListener("keyup",this._escButtonHandler)}},void 0,!1,void 0,void 0,void 0),Z={stay:!1,bgClickClose:!0,lang:{MODAL_BACK:"Go back",MODAL_CLOSE:"Close modal (ESC)"}},tt="__awema_plugins_stack__",et={install:function(){var e=Object.assign({},Z,function(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),r.forEach(function(n){t(e,n,o[n])})}return e}({eventBus:{$on:AWEMA.on,$off:AWEMA.off,$emit:AWEMA.emit}},AWEMA_CONFIG.modalWindow));Y._config=e,Vue.component("modal-window",Y),AWEMA._watchedNames.push("modal-window")}};"AWEMA"in window?AWEMA.use(et):(window[tt]=window[tt]||[],window[tt].push(et))}();
