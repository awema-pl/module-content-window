/**
 * Bundle of AWEMA @awema-pl/module-modal-window transpiled and polyfilled
 * Generated: 2021-01-23 12:29:31
 * Version: 1.0.0
 */

!function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function n(t,e){return t(e={exports:{}},e.exports),e.exports}var o=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),r=n(function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)}),i=(r.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),s=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t},a=function(t){try{return!!t()}catch(t){return!0}},c=!a(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),u=o.document,l=i(u)&&i(u.createElement),f=!c&&!a(function(){return 7!=Object.defineProperty((t="div",l?u.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),d=Object.defineProperty,p={f:c?Object.defineProperty:function(t,e,n){if(s(t),e=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}(e,!0),s(n),f)try{return d(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},h=c?function(t,e,n){return p.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},m={}.hasOwnProperty,v=function(t,e){return m.call(t,e)},y=0,_=Math.random(),g=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++y+_).toString(36))},b=n(function(t){var e=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),w=b("native-function-to-string",Function.toString),O=n(function(t){var e=g("src"),n=(""+w).split("toString");r.inspectSource=function(t){return w.call(t)},(t.exports=function(t,r,i,s){var a="function"==typeof i;a&&(v(i,"name")||h(i,"name",r)),t[r]!==i&&(a&&(v(i,e)||h(i,e,t[r]?""+t[r]:n.join(String(r)))),t===o?t[r]=i:s?t[r]?t[r]=i:h(t,r,i):(delete t[r],h(t,r,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||w.call(this)})}),C=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}},j=function(t,e,n){var i,s,a,c,u=t&j.F,l=t&j.G,f=t&j.S,d=t&j.P,p=t&j.B,m=l?o:f?o[e]||(o[e]={}):(o[e]||{}).prototype,v=l?r:r[e]||(r[e]={}),y=v.prototype||(v.prototype={});for(i in l&&(n=e),n)a=((s=!u&&m&&void 0!==m[i])?m:n)[i],c=p&&s?C(a,o):d&&"function"==typeof a?C(Function.call,a):a,m&&O(m,i,a,t&j.U),v[i]!=a&&h(v,i,c),d&&y[i]!=a&&(y[i]=a)};o.core=r,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128;var E,$,S=j,M={}.toString,k=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return M.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},B=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},P=function(t){return k(B(t))},A=Math.ceil,x=Math.floor,L=function(t){return isNaN(t=+t)?0:(t>0?x:A)(t)},F=Math.min,D=Math.max,T=Math.min,R=b("keys"),W=(E=!1,function(t,e,n){var o,r,i=P(t),s=(o=i.length)>0?F(L(o),9007199254740991):0,a=function(t,e){return(t=L(t))<0?D(t+e,0):T(t,e)}(n,s);if(E&&e!=e){for(;s>a;)if((r=i[a++])!=r)return!0}else for(;s>a;a++)if((E||a in i)&&i[a]===e)return E||a||0;return!E&&-1}),N=R[$="IE_PROTO"]||(R[$]=g($)),I="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),G=Object.keys||function(t){return function(t,e){var n,o=P(t),r=0,i=[];for(n in o)n!=N&&v(o,n)&&i.push(n);for(;e.length>r;)v(o,n=e[r++])&&(~W(i,n)||i.push(n));return i}(t,I)},H={f:Object.getOwnPropertySymbols},U={f:{}.propertyIsEnumerable},K=Object.assign,V=!K||a(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=K({},t)[n]||Object.keys(K({},e)).join("")!=o})?function(t,e){for(var n=Object(B(t)),o=arguments.length,r=1,i=H.f,s=U.f;o>r;)for(var a,u=k(arguments[r++]),l=i?G(u).concat(i(u)):G(u),f=l.length,d=0;f>d;)a=l[d++],c&&!s.call(u,a)||(n[a]=u[a]);return n}:K;S(S.S+S.F,"Object",{assign:V});var q=p.f,z=Function.prototype,X=/^\s*function ([^ (]*)/;function J(t,e,n){if(null==(o=t)||"object"!=typeof o)return console.warn("get supports only objects, ",t," given"),n;var o;e=function(t){return t.split(/(?:\]?\.|\[['"]?|['"]?\])/g).filter(t=>""!==t)}(e);let r,i=t;for(;e.length&&i;){let t=e.shift();e.length?i=i[t]:r=i[t]}return void 0!==r?r:n}"name"in z||c&&q(z,"name",{configurable:!0,get:function(){try{return(""+this).match(X)[1]}catch(t){return""}}});var Q={props:{lang:Object},computed:{$lang:function(){return{...J(this.$options,"_config.lang",{}),...this.lang}}}},Y=0;var Z=function(t,e,n,o,r,i,s,a,c,u){"boolean"!=typeof s&&(c=a,a=s,s=!1);var l,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,r&&(f.functional=!0)),o&&(f._scopeId=o),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=l):e&&(l=s?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),l)if(f.functional){var d=f.render;f.render=function(t,e){return l.call(e),d(t,e)}}else{var p=f.beforeCreate;f.beforeCreate=p?[].concat(p,l):[l]}return n}({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal-transition-"+t.theme},on:{"before-enter":function(e){t.showContent=!0,t._addBodyClass("has-modal-"+t.theme)},"after-leave":function(e){t._removeBodyClass("has-modal-"+t.theme),t.showContent=!1}}},[n("aside",{directives:[{name:"show",rawName:"v-show",value:t.isOpened,expression:"isOpened"}],staticClass:"modal",class:"is-"+t.theme,attrs:{tabindex:t.isOpened?"0":"-1",role:"dialog","aria-hidden":t.isOpened?"false":"true","aria-label":t.title},on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.selfClose(e)}}},[n("div",{staticClass:"modal__dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal__header"},[n("button",{staticClass:"modal__back",attrs:{type:"button",title:t.$lang.MODAL_BACK,"aria-label":t.$lang.MODAL_BACK,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.$router.back()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("polyline",{attrs:{points:"10 14 5 9.5 10 5"}}),t._v(" "),n("line",{attrs:{x1:"16",y1:"9.5",x2:"5",y2:"9.52"}})])]),t._v(" "),n("h5",{staticClass:"modal__title"},[t._v("\n                    "+t._s(t.title)+"\n                ")]),t._v(" "),n("button",{staticClass:"modal__close",attrs:{type:"button",title:t.$lang.MODAL_CLOSE,"aria-label":t.$lang.MODAL_CLOSE,tabindex:"0"},on:{click:function(e){return e.preventDefault(),t.close()}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor","aria-hidden":"true"}},[n("path",{attrs:{"stroke-width":"1.06",d:"M16,16 L4,4"}}),t._v(" "),n("path",{attrs:{"stroke-width":"1.06",d:"M16,4 L4,16"}})])])]),t._v(" "),n("div",{staticClass:"modal__body"},[t.stay||t.showContent?n("div",{staticClass:"modal__content"},[t._t("default",null,{closeModal:t.close})],2):t._e()])])])])},staticRenderFns:[]},void 0,{name:"modal-window",mixins:[Q],props:{title:String,stay:{type:Boolean,default:function(){return this.$options._config.stay}},bgClickClose:{type:Boolean,default:function(){return this.$options._config.bgClickClose}},name:{type:String,default:function(){return"modal-".concat(Y++)}},param:{type:String,default:"modal"},theme:{type:String,default:"default"}},data:function(){return{showContent:!1,lastFocused:null}},computed:{eventBus:function(){return this.$options._config.eventBus},isOpened:function(){return this.$route.query[this.param]===this.name}},provide:function(){return{modal:{name:this.name,open:this.open,close:this.close}}},watch:{isOpened:function(t){if(!t){var e={prevented:!1,preventClose:function(){this.prevented=!0}};this.eventBus.$emit("modal::".concat(this.name,":before-close"),e),e.prevented&&this.open()}},showContent:function(t){var e=this;if(t){if("undefined"==typeof document)return;this.lastFocused=document.activeElement,this.$nextTick(function(){return e.$el.focus()}),window.addEventListener("keyup",this._escButtonHandler)}else window.removeEventListener("keyup",this._escButtonHandler),this.lastFocused&&(this.lastFocused.focus(),this.lastFocused=null)}},methods:{_addBodyClass:function(){var t;(t=document.body.classList).add.apply(t,arguments)},_removeBodyClass:function(){var t;(t=document.body.classList).remove.apply(t,arguments)},open:function(){this.$router.$setParam(this._getModalParam(this.name))},selfClose:function(t){if(!this.fullscreen&&this.bgClickClose){var e=this;window.addEventListener("mouseup",function t(n){window.removeEventListener("mouseup",t),n.target===e.$el&&e.close()})}},close:function(){this.$router.$setParam(this._getModalParam(null)),this.eventBus.$emit("modal::".concat(this.name,":closed")),this.$emit("closed")},_getModalParam:function(t){var e={};return e[this.param]=t,e},_escButtonHandler:function(t){27===t.keyCode&&this.close()}},created:function(){this.showContent=this.isOpened},mounted:function(){this.eventBus.$on("modal::".concat(this.name,":open"),this.open),this.eventBus.$on("modal::".concat(this.name,":close"),this.close)},beforeDestroy:function(){this.eventBus.$off("modal::".concat(this.name,":open"),this.open),this.eventBus.$off("modal::".concat(this.name,":close"),this.close),this.lastFocused=null,window.removeEventListener("keyup",this._escButtonHandler)}},void 0,!1,void 0,void 0,void 0),tt={stay:!1,bgClickClose:!0,lang:{MODAL_BACK:"Go back",MODAL_CLOSE:"Close modal (ESC)"}},et="__awema_plugins_stack__",nt={install:function(){var n=Object.assign({},tt,function(n){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?e(Object(r),!0).forEach(function(e){t(n,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}({eventBus:{$on:AWEMA.on,$off:AWEMA.off,$emit:AWEMA.emit}},AWEMA_CONFIG.modalWindow));Z._config=n,Vue.component("modal-window",Z),AWEMA._watchedNames.push("modal-window")}};"AWEMA"in window?AWEMA.use(nt):(window[et]=window[et]||[],window[et].push(nt))}();
